<div class="evidenceTalkRevisionSummary">
  <div class="row revision-header">
    <div class="col-xs-12 name">
      <h3>Suggested Change #<span ng-bind="vm.evidenceTalkModel.data.item.id">ID</span></h3>
    </div>
  </div>
  <div class="row" ng-if="vm.isAdmin">
    <div class="col-xs-12">
      <div class="revision-instructions" ng-if="vm.evidenceTalkModel.data.item.status != 'applied'">
        <p>Accept or reject this revision by pressing either of the two buttons beneath the diffs.</p>
      </div>
      <div class="revision-instructions" ng-if="vm.evidenceTalkModel.data.item.status === 'applied'">
        <p>This revision has been applied.</p>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12">
      <div ng-messages="vm.formErrors" class="revision-errors">
        <div ng-message="500" class="alert alert-danger">
          <strong class="status">500 <span ng-bind="vm.errorMessages['500']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts['500']">error prompt</span>
        </div>
        <div ng-message="401" class="alert alert-danger">
          <strong class="status">401 <span ng-bind="vm.errorMessages['401']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts['401']">error prompt</span>
        </div>
        <div ng-message="403" class="alert alert-danger">
          <strong class="status">403 <span ng-bind="vm.errorMessages['403']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts['403']">error prompt</span>
        </div>
        <div ng-message="409" class="alert alert-danger">
          <strong class="status">403 <span ng-bind="vm.errorMessages['409']" class="message">error msg</span></strong> - <span ng-bind="vm.errorPrompts['409']">error prompt</span>
        </div>
      </div>
    </div>
  </div>
  <div class="row ">
    <div class="col-xs-12">
      <div ng-messages="vm.formMessages" class="edit-messages">
        <div ng-message="acceptSuccess" class="alert alert-success">
          <strong class="status">Success</strong> - <span class="message">The revision was successfully accepted.</span>
        </div>
        <div ng-message="rejectSuccess" class="alert alert-success">
          <strong class="status">Success</strong> - <span class="message">The revision was successfully rejected.</span>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-xs-12 diffs-header">
      <h4>Field Differences | Status: <span ng-bind="vm.evidenceTalkModel.data.item.status">status</span></h4>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 diffs">
      <ul>
        <li ng-repeat="(field, diff) in vm.evidenceTalkModel.data.item.diffs">
          <div ng-switch="field">
            <!--<div ng-switch-when="description">-->
              <!--<div class="row">-->
                <!--<div class="col-xs-3">-->
                  <!--Description:-->
                <!--</div>-->
                <!--<div class="col-xs-6">-->
                  <!--<span ng-bind-html="diff"></span>-->
                <!--</div>-->
                <!--<div class="cols-xs-3">-->
                  <!--<span ng-bind-html="vm.evidenceTalkModel.data.item.suggested_changes['description'][1]"></span>-->
                <!--</div>-->
              <!--</div>-->
            <!--</div>-->
            <div ng-switch-default>
              <div class="row">
                <div class="col-xs-12">
                  {{ field | capitalize}}:
                </div>
              </div>
              <div class="row">
                <div class="col-xs-12 wtf">
                  <span ng-bind-html="diff"></span>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-12">
                  <div class="res" ng-bind-html="vm.evidenceTalkModel.data.item.suggested_changes[field][1]"></div>
                </div>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 admin-buttons" ng-if="vm.isAdmin === true && vm.evidenceTalkModel.data.item.status != 'applied'">
      <div class="pull-right">
        <button type="submit" class="btn btn-default" ng-click="acceptRevision()">Accept Revision</button>
        <button type="submit" class="btn btn-default" ng-click="rejectRevision()">Reject Revision</button>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 comments-header">
      <h4>Comments</h4>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 comment-list">
      <div ng-switch="ctrl.comments.length">
        <div ng-switch-when="0">
          <p>No comments found.</p>
        </div>
        <div ng-switch-default>
          <ul class="comments">
            <li ng-repeat="comment in vm.evidenceTalkModel.data.comments">
              <entity-comment comment-data="comment"></entity-comment>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 comment-form">
      <entity-comment-form type="revision" entity-model="vm.evidenceTalkModel"></entity-comment-form>
    </div>
  </div>
  <!--<div class="row">-->
  <!--<div class="col-xs-12">-->
  <!--<form>-->
  <!--<p>-->
  <!--EVIDENCE NAME:-->
  <!--</p>-->
  <!--<p>-->
  <!--<input type="text" ng-model="evidenceModel.data.entity.name"/>-->
  <!--</p>-->
  <!--<p>-->
  <!--EVIDENCE DESCRIPTION:-->
  <!--</p>-->
  <!--<p>-->
  <!--<textarea ng-model="evidenceModel.data.entity.description">-->

  <!--</textarea>-->
  <!--</p>-->
  <!--</form>-->
  <!--</div>-->
  <!--</div>-->
</div>
