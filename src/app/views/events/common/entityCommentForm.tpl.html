<div class="entityCommentForm">
  <div ng-switch="vm.isAuthenticated">

    <div ng-switch-when="true">
      <div class="row comment-form">
        <div class="col-xs-12">
          <form name="vm.commentForm" ng-submit="vm.submit(vm.newComment, vm.options.resetModel)">
            <!-- TODO: implement hit-return-to-submit behavior with this: <input ng-keyup="$event.keyCode == 13 ? myFunc() : null" ...> from http://stackoverflow.com/questions/15417125/submit-form-on-pressing-enter-with-angularjs -->
            <formly-form
              options="vm.options"
              model="vm.newComment"
              fields="vm.newCommentFields"
              ng-submit="vm.submit(vm.newComment, vm.options.resetModel())">
              <div class="pull-right">
                <button type="submit" class="btn btn-default" ng-click="vm.submit(vm.newComment, vm.options.resetModel)">Submit Comment</button>
              </div>
            </formly-form>
          </form>
        </div>
      </div>
    </div>

    <div ng-switch-default>
      <div class="row">
        <div class="col-xs-12">
          <p><strong>Please Sign In to post comments.</strong></p>
        </div>
      </div>
    </div>

  </div>
  <!--<hr/>-->
  <!--<pre ng-bind="vm.newComment|json"></pre>-->
  <!--<hr/>-->
  <!--<pre ng-bind="vm.newCommentFields|json"></pre>-->
  <!--<hr/>-->
  <!--<pre ng-bind="entityTalkModel|json"></pre>-->
</div>
